block: 18888888
leaf:
  - "0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84" # stETH
  #- '0xa84360896cE9152d1780c546305BB54125F962d9' # FxETHTwapOracle
  - "0x26B2ec4E02ebe2F54583af25b647b1D619e67BbF" # GnosisSafe (just has a list of owners)
  - "0x21f73D42Eb58Ba49dDB685dc29D3bF5c0f0373CA" # "           "
  - "0xE62B71cf983019BFf55bC83B48601ce8419650CC" # AccessControlledOffchainAggregator
  - "0xdA31bc2B08F22AE24aeD5F6EB1E71E96867BA196" # "           ",

users:
  - name: admin # bao admin
  - name: fMinter #user who mints fTokens
    wallet:
      - { contract: Lido, amount: 10000 ether }
  - name: fHolderLiquidator # user who mints/liquidates fTokens
  - name: fHolderRedeemer # user who mint/redeems fTokens
  - name: xMinter # user who mint/redeems xTokens
  - name: xHolderRedeemer # user who mint/redeems xTokens

userEvents:
  - name: mintFToken_1000eth
    user: fMinter
    contract: "Market"
    function: "mintFToken"
    args: [1000 ether, fMinter, 0]
  - name: mintFToken_finney
    user: fMinter
    contract: "Market"
    function: "mintFToken"
    args: [1 finney, fMinter, 0]

format:
  - measurement: emaLeverageRatio.lastTime
    precision: -1
  - measurement: emaLeverageRatio.lastEmaValue
    precision: -13
  - type: uint256
    unit: ether
  - measurement: latestAnswer
    type: int256
    unit: 8
  - measurement: latestRoundData.answer
    type: int256
    unit: 8
  - contractType: Market
    type: uint128
    unit: 16
  - contractType: Market
    type: int128
    unit: 16
  - contractType: Market
    type: uint64
    unit: 18
  # variable depending when run
  - measurement: pendingRewards.0
    precision: 4
  - measurement: pendingRewards.1
    precision: 4
  - contractType: "Curve DAO Token"
    measurement: available_supply
    precision: 0
  - contractType: "Voting Escrow"
    measurement: totalSupply
    precision: 0
  - measurement: price_oracle
    precision: 9
  - measurement: leverageRatio
    precision: 4 # because the price_oracle is not reliable, this isn't
  # no formatting
  - contractType: BoostableRebalancePool
    measurement: numTotalSupplyHistory
  - measurement: chainlinkMinMessageCount
  - measurement: chainlinkMessageExpiration
  - measurement: start_epoch_time
  - measurement: getChainId
  - measurement: getThreshold
  - measurement: nonce
  - measurement: decimals
  - measurement: epoch
  - measurement: time_total
  - measurement: numTotalSupplyHistory
  - measurement: latestRoundData.startedAt
  - measurement: latestRoundData.updatedAt
  - measurement: latestTimestamp
  - measurement: version
  - measurement: getRewardCount
